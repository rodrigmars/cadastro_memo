<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div>
        <div>
            <label for="">Nome</label>
            <input type="text" name="" id="txtName">
        </div>
        <div>
            <label for="">Email</label>
            <input type="text" name="" id="txtEmail">
        </div>
        <div>
            <label for="">Telefone</label>
            <input type="text" name="" id="txtTelephone">
        </div>
        <div>
            <button id="btnAdd">Cadastrar</button>
        </div>
    </div>

    <div id="containerUsers" style="width:300px"></div>


</body>

</html>
<script>
    //Estrutura IIFE(Immediately Invoked Function Expression)
    function buildTemplate(name, email, telephone) {

        return `<div style="border-bottom: 2px coral solid"><label>${name}</label>
            <label>${email}</label>
            <label>${telephone}</label>
            <button id="btnRemove" onClick="event:fnRemove(${email})">x</button>
            </div>`

    }

    function resetForm(name, email, telephone) {
        name.value = "";
        email.value = "";
        telephone.value = "";
        name.focus();
    }

    ; (function (logger, buildTemplate, resetForm) {

        const name = document.getElementById("txtName");
        const email = document.getElementById("txtEmail");
        const telephone = document.getElementById("txtTelephone");
        const buttonAdd = document.getElementById("btnAdd");
        const containerUsers = document.getElementById("containerUsers");
        const notify = document.getElementById("notify");
        
        const buttonRemove = document.getElementById("btnRemove");

        let totalUsers = 1
        let pageNumber = 0;
        let counterPage = 0;
        let totalPage = 5;
        let users = [];

        buttonAdd.addEventListener("click", () => {

            users.push([name.value, email.value, telephone.value]);

            logger(users);

            if (totalUsers === 15) {
                notify.text = "Total de usuÃ¡rios excedidos"
                return
            }

            containerUsers.innerHTML += buildTemplate(name.value, email.value, telephone.value);

            totalUsers += 1;

            resetForm(name, email, telephone);

            function removeUser(email) {

                const user = users.filter((user, index) => {
                    if (user[1] == email) {
                        return index
                    }
                })

                if (user) {

                    counterRemove += 1;

                    if (counterRemove >= 5) {

                        if (pageNumber >= 5) {
                            pageNumber -= 5;
                        }

                        if (totalPage > 5) {
                            totalPage -= 5;
                        }
                    }
                }
            }
        });

    })(console.log, buildTemplate, resetForm);

    let users = [[12133, "teste@gmail.com"], [45462, "beth@gmail.com"], [45462, "julian@gmail.com"]]

    // console.log(users.slice(1))
    console.log(users[2].indexOf("julian@gmail.com"))

    // const email = "teste@gmail.com"


    // const user = users.find((user, index) => {
    //     if (user[1] === email) {
    //         return "ok"
    //     }
    // })

    // console.log("user:", user)

</script>