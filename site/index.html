<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        #notify {
            color: red;
            font-size: 40px;
        }
    </style>

</head>

<body>
    <label id="notify"></label>
    <div>
        <div>
            <label for="txtName">Nome</label>
            <input type="text" name="" id="txtName">*
        </div>
        <div>
            <label for="txtEmail">Email</label>
            <input type="text" name="" id="txtEmail">*
        </div>
        <div>
            <label for="txtTelephone">Telefone</label>
            <input type="text" name="" id="txtTelephone">*
        </div>
        <div><button id="btnAdd">Cadastrar</button></div>
    </div>
    <div id="containerUsers" style="width:300px">
        <table>
            <thead>
                <tr>
                    <th><input type="checkbox" name="" id="chkAll"></th>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Telephone</th>
                </tr>
            </thead>
            <tbody id="tbodyUsers">
            </tbody>
        </table>
    </div>
    <div>
        <button id="btnRemove">Excluir</button>

    </div>
</body>

</html>
<script>
    //Estrutura IIFE(Immediately Invoked Function Expression)
    function checkForm(name, email, telephone) {
        if (name.value.trim().length < 1) {
            name.style.backgroundColor = "yellow";
            name.focus();
            return false;
        }

        if (email.value.trim().length < 1) {
            email.style.backgroundColor = "yellow";
            email.focus();
            return false;
        }

        if (telephone.value.trim().length < 1) {
            telephone.style.backgroundColor = "yellow";
            telephone.focus();
            return false;
        }

        return true;
    }

    function buildTemplate(name, email, telephone) {
        return `<tr>
            <td><input type="checkbox" name="" id=""></td>
            <td>${name}</td>
            <td>${email}</td>
            <td>${telephone}</td>
            </div></tr>`
    }

    function resetForm(name, email, telephone) {

        name.value = "";
        email.value = "";
        telephone.value = "";
        name.style.backgroundColor = "";
        email.style.backgroundColor = "";
        telephone.style.backgroundColor = "";

        name.focus();
    }

    ; (function (logger, checkForm, buildTemplate, resetForm) {

        const name = document.getElementById("txtName");
        const email = document.getElementById("txtEmail");
        const telephone = document.getElementById("txtTelephone");
        const buttonAdd = document.getElementById("btnAdd");
        const buttonRemove = document.getElementById("btnRemove");
        const containerUsers = document.getElementById("containerUsers");
        const notify = document.getElementById("notify");
        const tbodyUsers = document.getElementById("tbodyUsers");

        let totalUsers = 1
        let pageNumber = 0;
        let counterPage = 0;
        let totalPage = 5;
        let users = [];
        let chkAll = null

        buttonAdd.addEventListener("click", () => {

            if (totalUsers === 15) {
                notify.innerText = "Limite total de usuÃ¡rios excedidos";
                buttonAdd.disabled = true;
                return;
            }

            if (checkForm(name, email, telephone)) {
                tbodyUsers.innerHTML += buildTemplate(name.value, email.value, telephone.value);

                totalUsers += 1;

                // if (!chkAll) {
                //     chkAll = document.getElementById("chkAll");
                //     console.log("passando aqui")
                //     chkAll.addEventListener("click", () => {
                //         logger("teste>>>>>>>>")
                //     });

                // }

                resetForm(name, email, telephone);

            }




        });


        buttonRemove.addEventListener("click", () => {
            return
        });

    })(console.log, checkForm, buildTemplate, resetForm);

    let users = [[12133, "teste@gmail.com"], [45462, "beth@gmail.com"], [45462, "julian@gmail.com"]]

    // console.log(users.slice(1))
    console.log(users[2].indexOf("julian@gmail.com"))

    // const email = "teste@gmail.com"


    // const user = users.find((user, index) => {
    //     if (user[1] === email) {
    //         return "ok"
    //     }
    // })

    // console.log("user:", user)

</script>